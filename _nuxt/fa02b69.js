(window.webpackJsonp=window.webpackJsonp||[]).push([[6,4],{304:function(t,e,o){var content=o(307);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(48).default)("1c7545e8",content,!0,{sourceMap:!1})},305:function(t,e,o){"use strict";var r=o(2),n=o(82).findIndex,d=o(133),l="findIndex",c=!0;l in[]&&Array(1)[l]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),d(l)},306:function(t,e,o){"use strict";o(304)},307:function(t,e,o){var r=o(47)(!1);r.push([t.i,".search-item-modal[data-v-a85d0ff0]{position:absolute;top:-80px;left:0;width:100vw;min-height:100vh;z-index:2;background-color:rgba(117,199,255,.5)}.search-item-modal__body[data-v-a85d0ff0]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.modal-window[data-v-a85d0ff0]{display:flex;flex-direction:column;align-items:center;width:510px;height:573px;background:#fff;box-shadow:0 10px 50px rgba(19,144,229,.8);border-radius:10px;padding:36px 40px}@media (max-width:650px){.modal-window[data-v-a85d0ff0]{width:90%;padding:22px 10px 24px}}.modal-window__header[data-v-a85d0ff0]{font-weight:500;font-size:18px;line-height:28px;color:#000}.modal-window__item[data-v-a85d0ff0]{width:100%;margin-bottom:24px}.query[data-v-a85d0ff0]{position:relative;display:flex;flex-direction:column;justify-content:flex-start}.query__label[data-v-a85d0ff0]{font-size:16px;line-height:22px}.query__input[data-v-a85d0ff0],.query__label[data-v-a85d0ff0]{font-weight:400;color:#272727}.query__input[data-v-a85d0ff0]{height:48px;padding:12px 15px;background-color:#fff;font-size:20px;line-height:24px;border:1px solid rgba(23,23,25,.2);border-radius:10px}.query__input_disabled[data-v-a85d0ff0]{background-color:#fafafa;color:#bbb}.name[data-v-a85d0ff0]{display:flex;position:relative;flex-direction:column;justify-content:flex-start}.name__label[data-v-a85d0ff0]{font-size:16px;line-height:22px}.name__input[data-v-a85d0ff0],.name__label[data-v-a85d0ff0]{font-weight:400;color:#272727}.name__input[data-v-a85d0ff0]{height:48px;padding:12px 15px;font-size:20px;line-height:24px;background-color:#fff;border:1px solid rgba(23,23,25,.2);border-radius:10px}.name__error[data-v-a85d0ff0],.query__error[data-v-a85d0ff0]{position:absolute;bottom:-20px;display:flex;font-weight:400;font-size:12px;line-height:22px;color:#8b0000}.sort-by[data-v-a85d0ff0]{display:flex;flex-direction:column;justify-content:flex-start}.sort-by__label[data-v-a85d0ff0]{font-weight:400;font-size:16px;line-height:22px;color:#272727}.sort-by__select[data-v-a85d0ff0]{height:48px;padding:12px 15px;font-weight:400;font-size:20px;line-height:24px;color:#272727;background-color:#fff;border:1px solid rgba(23,23,25,.2);border-radius:10px;opacity:.6}.max-number[data-v-a85d0ff0]{display:flex;flex-direction:column;justify-content:flex-start}.max-number__label[data-v-a85d0ff0]{font-weight:400;font-size:16px;line-height:22px;color:#272727}.max-number__inputs-wrapper[data-v-a85d0ff0]{display:flex;justify-content:space-between;align-items:center}.max-number__slider[data-v-a85d0ff0]{height:6px;width:70%}.max-number__slider[data-v-a85d0ff0]:hover{cursor:pointer}.max-number__input[data-v-a85d0ff0]{width:20%;height:48px;padding:12px 15px;font-weight:400;font-size:20px;line-height:24px;color:#272727;text-align:center;margin-left:20px;border:1px solid rgba(23,23,25,.2);border-radius:10px}.modal-window__buttons-wrapper[data-v-a85d0ff0]{display:flex;width:100%;justify-content:space-between}.modal-window__cancel-button[data-v-a85d0ff0]{width:48%;height:52px;border-radius:10px;padding:14px 20px;font-weight:400;font-size:20px;line-height:24px;color:#1390e5;background-color:#fff;border:1px solid #1390e5;transition-duration:.3s}@media (max-width:650px){.modal-window__cancel-button[data-v-a85d0ff0]{font-size:18px;padding:14px 10px 10px 12px;white-space:nowrap}.modal-window__save-button[data-v-a85d0ff0]{font-size:18px!important;padding:14px 10px 10px 12px!important;white-space:nowrap}}.modal-window__cancel-button[data-v-a85d0ff0]:hover{cursor:pointer;background-color:#1390e5;color:#fff}.modal-window__save-button[data-v-a85d0ff0]{width:48%;height:52px;border-radius:10px;padding:14px 20px;font-weight:400;font-size:20px;line-height:24px;color:#fff;background-color:#1390e5;border:1px solid #1390e5;transition-duration:.3s}.modal-window__save-button[data-v-a85d0ff0]:hover{cursor:pointer;background-color:#fff;border:1px solid #1390e5;color:#1390e5}",""]),t.exports=r},310:function(t,e,o){"use strict";o.r(e);o(29),o(49),o(32),o(15),o(305),o(201);var r={name:"searchItemModal",data:function(){return{modalParams:{query:"",name:"",sortBy:"",maxQuantity:""},noName:!1,noQuery:!1}},props:{searchParams:{},modalMode:String},computed:{modalHeight:function(){return window.innerHeight+80+"px"}},methods:{addToFavorites:function(){if(this.noName=!1,this.noQuery=!1,console.log(""!==this.modalParams.name),""!==this.modalParams.query&&""!==this.modalParams.name&&void 0!==this.modalParams.name){var t=localStorage.getItem("token"),e=[];localStorage.getItem("".concat(t))?((e=JSON.parse(localStorage.getItem("".concat(t)))).push(this.modalParams),localStorage.setItem("".concat(t),"".concat(JSON.stringify(e)))):(e.push(this.modalParams),localStorage.setItem("".concat(t),"".concat(JSON.stringify(e)))),this.$emit("save-successful"),this.closeModal()}else""===this.modalParams.name||""!==this.modalParams.name?this.noName=!0:""===this.modalParams.query&&(this.noQuery=!0)},closeModal:function(){this.$emit("close-modal")},overlayClick:function(t){"search-item-modal__body"===t.target.className&&this.closeModal()},editFavorite:function(){var t=this;if(""!==this.modalParams.query&&""!==this.modalParams.name){var e=[],o=this.modalParams,r=localStorage.getItem("token");r&&localStorage.getItem("".concat(r))&&(e=JSON.parse(localStorage.getItem("".concat(r))));var n=e.findIndex((function(e){return e.query===t.searchParams.query}));console.log("targetID",n),e.splice(n,1,o),localStorage.setItem("".concat(r),"".concat(JSON.stringify(e))),this.$emit("edit-successful",this.modalParams),this.closeModal()}else""===this.modalParams.name?this.noName=!0:""===this.modalParams.query&&(this.noQuery=!0)}},created:function(){this.noName=!1,this.noQuery=!1,console.log("this.searchParams",this.searchParams),this.modalParams.name=this.searchParams.name,this.modalParams.query=this.searchParams.query,this.modalParams.maxQuantity=this.searchParams.maxQuantity?this.searchParams.maxQuantity:"12",this.modalParams.sortBy=this.searchParams.sortBy?this.searchParams.sortBy:"",console.log("this.modalParams",this.modalParams)},watch:{"modalParams.maxQuantity":{handler:function(t){t>50&&(this.modalParams.maxQuantity=50),t<0&&(this.modalParams.maxQuantity=0)}}}},n=(o(306),o(24)),component=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-item-modal",style:{height:t.modalHeight},on:{click:function(e){return t.overlayClick(e)}}},[e("div",{staticClass:"search-item-modal__body"},[e("div",{staticClass:"modal-window"},[e("h2",{staticClass:"modal-window__header"},[t._v("\n        "+t._s("save"===t.modalMode?"Сохранить запрос":"Изменить запрос")+"\n      ")]),t._v(" "),e("div",{staticClass:"modal-window__item"},[e("div",{staticClass:"query"},[e("div",{staticClass:"query__label"},[t._v("\n            Запрос\n          ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.modalParams.query,expression:"modalParams.query"}],staticClass:"query__input",class:{query__input_disabled:"save"===t.modalMode},attrs:{disabled:"save"===t.modalMode},domProps:{value:t.modalParams.query},on:{input:function(e){e.target.composing||t.$set(t.modalParams,"query",e.target.value)}}}),t._v(" "),t.noQuery?e("div",{staticClass:"query__error"},[t._v("\n            Пожалуйста, введите запрос\n          ")]):t._e()])]),t._v(" "),e("div",{staticClass:"modal-window__item"},[e("div",{staticClass:"name"},[e("div",{staticClass:"name__label"},[t._v("\n            * Название\n          ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.modalParams.name,expression:"modalParams.name"}],staticClass:"name__input",attrs:{placeholder:"Укажите название"},domProps:{value:t.modalParams.name},on:{input:function(e){e.target.composing||t.$set(t.modalParams,"name",e.target.value)}}}),t._v(" "),t.noName?e("div",{staticClass:"name__error"},[t._v("\n            Пожалуйста, введите название запроса\n          ")]):t._e()])]),t._v(" "),e("div",{staticClass:"modal-window__item"},[e("div",{staticClass:"sort-by"},[e("div",{staticClass:"sort-by__label"},[t._v("\n            Сортировать по\n          ")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.modalParams.sortBy,expression:"modalParams.sortBy"}],staticClass:"sort-by__select",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.modalParams,"sortBy",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:""}},[t._v("Без сортировки")]),t._v(" "),e("option",{attrs:{value:"date"}},[t._v("По дате")]),t._v(" "),e("option",{attrs:{value:"rating"}},[t._v("По рейтингу")]),t._v(" "),e("option",{attrs:{value:"relevance"}},[t._v("По релевантности")]),t._v(" "),e("option",{attrs:{value:"title"}},[t._v("По названию")]),t._v(" "),e("option",{attrs:{value:"viewCount"}},[t._v("По количеству просмотров")])])])]),t._v(" "),e("div",{staticClass:"modal-window__item"},[e("div",{staticClass:"max-number"},[e("div",{staticClass:"max-number__label"},[t._v("\n            Максимальное количество\n          ")]),t._v(" "),e("div",{staticClass:"max-number__inputs-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.modalParams.maxQuantity,expression:"modalParams.maxQuantity"}],staticClass:"max-number__slider",attrs:{type:"range",min:"0",max:"50"},domProps:{value:t.modalParams.maxQuantity},on:{__r:function(e){return t.$set(t.modalParams,"maxQuantity",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.modalParams.maxQuantity,expression:"modalParams.maxQuantity"}],staticClass:"max-number__input",domProps:{value:t.modalParams.maxQuantity},on:{input:function(e){e.target.composing||t.$set(t.modalParams,"maxQuantity",e.target.value)}}})])])]),t._v(" "),"save"===t.modalMode?e("div",{staticClass:"modal-window__buttons-wrapper"},[e("button",{staticClass:"modal-window__cancel-button",on:{click:t.closeModal}},[t._v("\n          Не сохранять\n        ")]),t._v(" "),e("button",{staticClass:"modal-window__save-button",on:{click:t.addToFavorites}},[t._v("\n          Сохранить\n        ")])]):t._e(),t._v(" "),"edit"===t.modalMode?e("div",{staticClass:"modal-window__buttons-wrapper"},[e("button",{staticClass:"modal-window__cancel-button",on:{click:t.closeModal}},[t._v("\n          Не изменять\n        ")]),t._v(" "),e("button",{staticClass:"modal-window__save-button",on:{click:t.editFavorite}},[t._v("\n          Изменить\n        ")])]):t._e()])])])}),[],!1,null,"a85d0ff0",null);e.default=component.exports},316:function(t,e,o){var content=o(323);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(48).default)("668636ba",content,!0,{sourceMap:!1})},322:function(t,e,o){"use strict";o(316)},323:function(t,e,o){var r=o(47)(!1);r.push([t.i,".favorites-page[data-v-51b03905]{display:flex;flex-direction:column;align-items:flex-start;width:100%;padding-top:40px;padding-right:200px;padding-left:200px}@media (max-width:1100px){.favorites-page[data-v-51b03905]{padding-right:40px;padding-left:40px}}@media (max-width:650px){.favorites-page[data-v-51b03905]{padding-right:10px;padding-left:10px}}.favorites-page__header[data-v-51b03905]{margin-bottom:40px;font-weight:400;font-size:28px;line-height:40px;color:#000}.favorites-page__no-favorites[data-v-51b03905]{display:flex;justify-content:center;font-weight:400;font-size:20px;line-height:40px;color:rgba(39,39,39,.3)}.favorites-page__body[data-v-51b03905]{width:100%;height:auto;display:flex;flex-direction:column}.favorite-searches__request-item[data-v-51b03905]{display:flex;justify-content:space-between;width:100%;height:47px;background-color:#fff;font-weight:500;font-size:16px;line-height:20px;color:#000;border-bottom:1px solid #f1f1f1;padding:13px 20px}.favorite-searches__request-item[data-v-51b03905]:hover{cursor:pointer}.favorite-searches__request-item[data-v-51b03905]:first-child{border-top-left-radius:10px;border-top-right-radius:10px}.favorite-searches__request-item[data-v-51b03905]:last-child{border-bottom-left-radius:10px;border-bottom-right-radius:10px}.request-item__buttons-wrapper[data-v-51b03905]{display:flex;height:100%;width:300px;font-weight:400;font-size:14px;line-height:20px}.request-item__buttons-wrapper[data-v-51b03905]:hover{cursor:pointer}.favorite-searches__request-item:hover .request-item__delete-button[data-v-51b03905],.favorite-searches__request-item:hover .request-item__edit-button[data-v-51b03905],.favorite-searches__request-item:hover .request-item__execute-button[data-v-51b03905]{visibility:visible}.request-item__execute-button[data-v-51b03905]{visibility:hidden;margin-right:30px;color:#1390e5}.request-item__execute-button[data-v-51b03905]:hover{cursor:pointer}.request-item__edit-button[data-v-51b03905]{visibility:hidden;margin-right:30px;color:#1390e5}.request-item__edit-button[data-v-51b03905]:hover{cursor:pointer}.request-item__delete-button[data-v-51b03905]{visibility:hidden;color:red}.request-item__delete-button[data-v-51b03905]:hover{cursor:pointer}",""]),t.exports=r},334:function(t,e,o){"use strict";o.r(e);o(29),o(305),o(201);var r={name:"favorites",data:function(){return{editingProcess:!1,searchParams:{},refresh:0}},computed:{favoriteSearches:function(){console.log(this.refresh);var t=[],e=localStorage.getItem("token");return e&&localStorage.getItem("".concat(e))&&(t=JSON.parse(localStorage.getItem("".concat(e)))),t}},methods:{executeSearch:function(t){this.$router.push({path:"/search",query:t})},deleteItem:function(t){var e=[],o=localStorage.getItem("token");o&&localStorage.getItem("".concat(o))&&(e=JSON.parse(localStorage.getItem("".concat(o))));var r=e.findIndex((function(e){return e.query===t.query}));e.splice(r,1),localStorage.setItem("".concat(o),"".concat(JSON.stringify(e))),this.refresh++},openEditModal:function(t){console.log("target",t),this.editingProcess=!0,this.searchParams=t},handleEditSuccess:function(t){this.searchParams=t,this.refresh++}},created:function(){}},n=(o(322),o(24)),component=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"favorites-page"},[e("h1",{staticClass:"favorites-page__header"},[t._v("\n    Избранное\n  ")]),t._v(" "),0===t.favoriteSearches.length?e("div",{staticClass:"favorites-page__no-favorites favorite-searches__request-item"},[t._v("\n    Здесь будут отображаться ваши избранные запросы\n  ")]):t._e(),t._v(" "),e("div",{staticClass:"favorites-page__body favorite-searches"},t._l(t.favoriteSearches,(function(o){return e("div",{key:o.query,staticClass:"favorite-searches__request-item"},[e("div",{staticClass:"request-item__name"},[t._v("\n        "+t._s(o.name)+"\n      ")]),t._v(" "),e("div",{staticClass:"request-item__buttons-wrapper"},[e("div",{staticClass:"request-item__execute-button",on:{click:function(e){return t.executeSearch(o)}}},[t._v("\n          Выполнить\n        ")]),t._v(" "),e("div",{staticClass:"request-item__edit-button",on:{click:function(e){return t.openEditModal(o)}}},[t._v("\n          Изменить\n        ")]),t._v(" "),e("div",{staticClass:"request-item__delete-button",on:{click:function(e){return t.deleteItem(o)}}},[t._v("\n          Удалить\n        ")])])])})),0),t._v(" "),t.editingProcess?e("search-item-modal",{attrs:{"modal-mode":"edit",searchParams:t.searchParams},on:{"edit-successful":function(e){return t.handleEditSuccess(e)},"close-modal":function(e){t.editingProcess=!1}}}):t._e()],1)}),[],!1,null,"51b03905",null);e.default=component.exports;installComponents(component,{SearchItemModal:o(310).default})}}]);